# Render Blueprint para CafeterÃ­a Soma
# https://render.com/docs/blueprint-spec

services:
  # â˜• Backend Spring Boot
  - type: web
    name: cafeteria-backend
    runtime: docker
    repo: https://github.com/Brunux-hub/Cafe-eria.hub.git
    branch: main
    dockerfilePath: ./cafeteria-soma-backend/Dockerfile
    dockerContext: ./cafeteria-soma-backend
    envVars:
      - key: SPRING_DATASOURCE_URL
        value: jdbc:mysql://YOUR_MYSQL_HOST:3306/cafeteria_soma?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC
      - key: SPRING_DATASOURCE_USERNAME
        value: root
      - key: SPRING_DATASOURCE_PASSWORD
        sync: false
      - key: JWT_SECRET
        generateValue: true
      - key: JWT_EXPIRATION
        value: "86400000"
      - key: ALLOWED_ORIGINS
        value: https://cafeteria-frontend.onrender.com
      - key: SPRING_PROFILES_ACTIVE
        value: prod
    healthCheckPath: /actuator/health

  # ðŸŽ¨ Frontend Angular
  - type: web
    name: cafeteria-frontend
    runtime: docker
    repo: https://github.com/Brunux-hub/Cafe-eria.hub.git
    branch: main
    dockerfilePath: ./Dockerfile
    dockerContext: ./
